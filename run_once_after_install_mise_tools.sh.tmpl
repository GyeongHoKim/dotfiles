{{- if ne .chezmoi.os "windows" -}}
#!/bin/bash

# Install mise tools after mise configuration is set up
# This runs once after the mise config file is applied

if command -v mise &> /dev/null; then
    if [ -f "$HOME/.config/mise/config.toml" ]; then
        echo "Installing mise tools from config.toml..."
        mise install
    else
        echo "mise config.toml not found, skipping mise install"
    fi
else
    echo "mise not found, skipping mise install"
fi

# Install poetry if python3 is available
if command -v python3 &> /dev/null; then
    echo "Installing poetry..."
    curl -sSL https://install.python-poetry.org | python3 -
else
    echo "python3 not found, skipping poetry installation"
fi
{{- end -}}
